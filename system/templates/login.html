<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Mentor Mentee Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Rework of https://antigravity.google/ using modern CSS */
        /* See https://brm.us/antigravity for details */
        @layer reset, base, layout, components;

        @layer base {

            html,
            body {
                height: 100%;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }
        }

        @layer layout {
            body {
                min-height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 20px;
                overflow: hidden;
                /* Deep Navy/Black Gradient Base */
                background: linear-gradient(135deg, #020617 0%, #0f172a 40%, #172554 100%);
                position: relative;
            }

            #bg-canvas {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 1;
                /* Low z-index */
                pointer-events: none;
            }

            /* Ensure content sits above background */
            .splash-screen {
                z-index: 9999;
            }

            .container {
                position: relative;
                z-index: 10;
            }

            .login-popup-container {
                z-index: 10000;
            }
        }

        /* Global Animations */
        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.92) translateY(10px);
                filter: blur(4px);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
                filter: blur(0);
            }
        }

        @keyframes slideDown {
            0% {
                opacity: 0;
                transform: translateY(-40px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideRight {
            0% {
                opacity: 0;
                transform: translateX(-50px);
            }

            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Splash Screen Animations */
        @keyframes splashFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes splashFadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes logoPop {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }

            50% {
                opacity: 1;
                transform: scale(1.1);
            }

            70% {
                transform: scale(0.95);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes textReveal {
            0% {
                opacity: 0;
                transform: translateY(20px);
                filter: blur(10px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
                filter: blur(0);
            }
        }

        @keyframes gradientMove {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(-45deg, #1a3a8f, #0d1b4e, #2c5282, #1a202c);
            background-size: 400% 400%;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            animation:
                gradientMove 15s ease infinite,
                splashFadeOut 0.8s ease-in-out 3.0s forwards;
        }

        .splash-content {
            text-align: center;
            color: white;
            z-index: 2;
        }

        /* Optional: Add particles or texture overlay here if desired */

        .splash-logo {
            font-size: 72px;
            /* Larger logo */
            font-weight: bold;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            opacity: 0;
            /* Using logoPop instead of simple fade */
            animation: logoPop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
        }

        .splash-logo i {
            color: #4fd1c5;
            /* Accent color for icon */
            text-shadow: 0 0 20px rgba(79, 209, 197, 0.4);
        }

        .splash-title {
            font-size: 28px;
            font-weight: 300;
            letter-spacing: 1px;
            opacity: 0;
            animation: textReveal 1s ease-out 1.0s forwards;
        }

        .container {
            max-width: 800px;
            width: 100%;
            max-height: 95vh;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 16px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            opacity: 0;
            /* Container enters right after splash fades */
            animation: fadeInScale 0.8s cubic-bezier(0.16, 1, 0.3, 1) 3.1s forwards;
        }

        .container:hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .header {
            background: linear-gradient(135deg, #1a3a8f 0%, #0d1b4e 100%);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
            opacity: 0;
            animation: slideDown 0.8s cubic-bezier(0.16, 1, 0.3, 1) 3.3s forwards;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
        }

        .logo {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #fff;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .header h1 {
            font-size: 22px;
            margin-bottom: 6px;
            font-weight: 600;
            position: relative;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
            position: relative;
        }

        .login-as {
            padding: 15px 20px;
            background: #f8f9ff;
            text-align: center;
            border-bottom: 1px solid #eaeef7;
            flex-shrink: 0;
            opacity: 0;
            animation: slideRight 0.8s cubic-bezier(0.16, 1, 0.3, 1) 3.5s forwards;
        }

        .login-as h2 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #4a5568;
            font-weight: 500;
        }

        .user-types {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .user-type {
            flex: 1;
            padding: 12px 6px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #4a5568;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            font-size: 14px;
        }

        .user-type i {
            font-size: 18px;
            color: #a0aec0;
            transition: all 0.3s ease;
        }

        .user-type:hover {
            border-color: #1a3a8f;
            background: #f0f4ff;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(26, 58, 143, 0.1);
        }

        .user-type:hover i {
            color: #1a3a8f;
        }

        .user-type.active {
            border-color: #1a3a8f;
            background: #1a3a8f;
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(26, 58, 143, 0.2);
        }

        .user-type.active i {
            color: white;
        }

        .login-form {
            padding: 20px;
            flex: 1;
            overflow-y: auto;
            opacity: 0;
            animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 3.7s forwards;
        }

        .form-group {
            margin-bottom: 18px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #4a5568;
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s ease;
            background: #f8f9ff;
        }

        .form-group input:focus {
            border-color: #1a3a8f;
            box-shadow: 0 0 0 3px rgba(26, 58, 143, 0.1);
            background: white;
        }

        .form-group i {
            position: absolute;
            right: 18px;
            top: 40px;
            color: #a0aec0;
            font-size: 16px;
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #1a3a8f 0%, #0d1b4e 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 8px;
            box-shadow: 0 5px 15px rgba(26, 58, 143, 0.2);
            position: relative;
            overflow: hidden;
        }

        .login-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s ease;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(26, 58, 143, 0.3);
        }

        .login-btn:hover::before {
            left: 100%;
        }

        .login-btn:active {
            transform: translateY(0);
        }

        .signup-link {
            text-align: center;
            margin-top: 18px;
            color: #718096;
            font-size: 14px;
        }

        .signup-link a {
            color: #1a3a8f;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
        }

        .signup-link a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: #1a3a8f;
            transition: width 0.3s ease;
        }

        .signup-link a:hover {
            color: #0d1b4e;
        }

        .signup-link a:hover::after {
            width: 100%;
        }

        .footer {
            text-align: center;
            padding: 12px;
            background: #f8f9ff;
            color: #718096;
            font-size: 12px;
            border-top: 1px solid #eaeef7;
            flex-shrink: 0;
        }

        .footer a {
            color: #1a3a8f;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer a:hover {
            color: #0d1b4e;
            text-decoration: underline;
        }

        .forgot-password {
            text-align: center;
            margin-top: 12px;
        }

        .forgot-password a {
            color: #666;
            text-decoration: none;
            font-size: 13px;
            transition: color 0.3s ease;
        }

        .forgot-password a:hover {
            color: #1a3a8f;
        }

        .system-features {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding: 12px;
            background: #f0f4ff;
            border-radius: 8px;
            font-size: 12px;
            color: #4a5568;
        }

        .feature {
            text-align: center;
            flex: 1;
            padding: 0 8px;
        }

        .feature i {
            color: #1a3a8f;
            margin-bottom: 4px;
            font-size: 14px;
        }

        /* Animation for form elements */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group:nth-child(1) {
            animation-delay: 0.1s;
        }

        .form-group:nth-child(2) {
            animation-delay: 0.2s;
        }

        .login-btn {
            animation-delay: 0.3s;
        }

        .signup-link {
            animation-delay: 0.4s;
        }

        /* Login Status Popup Styles */
        .login-popup-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px;
        }

        .login-popup {
            background: white;
            border-radius: 12px;
            padding: 16px 18px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border-left: 5px solid #4CAF50;
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateX(400px);
            opacity: 0;
            transition: all 0.4s ease;
            max-width: 380px;
        }

        .login-popup.show {
            transform: translateX(0);
            opacity: 1;
        }

        .login-popup.hide {
            transform: translateX(400px);
            opacity: 0;
        }

        .login-popup.success {
            border-left-color: #4CAF50;
            background: linear-gradient(135deg, #f8fff8 0%, #e8f5e8 100%);
        }

        .login-popup.error {
            border-left-color: #f44336;
            background: linear-gradient(135deg, #fff8f8 0%, #ffebee 100%);
        }

        .login-popup-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
        }

        .login-popup.success .login-popup-icon {
            background: #4CAF50;
            color: white;
        }

        .login-popup.error .login-popup-icon {
            background: #f44336;
            color: white;
        }

        .login-popup-content {
            flex: 1;
        }

        .login-popup-title {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 4px;
            color: #2d3748;
        }

        .login-popup-message {
            font-size: 13px;
            color: #4a5568;
            line-height: 1.4;
        }

        .login-popup-close {
            background: none;
            border: none;
            color: #718096;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .login-popup-close:hover {
            background: rgba(0, 0, 0, 0.1);
            color: #2d3748;
        }

        /* Progress bar for auto-dismiss */
        .login-popup-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: rgba(0, 0, 0, 0.1);
            width: 100%;
            border-radius: 0 0 12px 12px;
            overflow: hidden;
        }

        .login-popup-progress-bar {
            height: 100%;
            background: currentColor;
            opacity: 0.4;
            width: 100%;
            transform-origin: left;
            animation: loginProgressBar 5s linear forwards;
        }

        @keyframes loginProgressBar {
            from {
                transform: scaleX(1);
            }

            to {
                transform: scaleX(0);
            }
        }

        /* Loading state for login button */
        .login-btn.loading {
            pointer-events: none;
            opacity: 0.8;
        }

        .login-btn.loading::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            top: 50%;
            left: 50%;
            margin-left: -9px;
            margin-top: -9px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Custom scrollbar for the form area */
        .login-form::-webkit-scrollbar {
            width: 6px;
        }

        .login-form::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .login-form::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        .login-form::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                max-height: 98vh;
            }

            .user-types {
                flex-direction: column;
            }

            .header h1 {
                font-size: 20px;
            }

            .logo {
                font-size: 32px;
            }

            .container {
                border-radius: 12px;
            }

            .system-features {
                flex-direction: column;
                gap: 8px;
            }

            /* Responsive design for login popups */
            .login-popup-container {
                bottom: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }

            .login-popup {
                max-width: none;
            }
        }

        @media (max-height: 700px) {
            .header {
                padding: 15px 20px;
            }

            .header h1 {
                font-size: 20px;
            }

            .header p {
                font-size: 13px;
            }

            .login-as {
                padding: 12px 20px;
            }

            .login-form {
                padding: 15px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group input {
                padding: 12px 16px;
            }

            .system-features {
                margin-top: 12px;
                padding: 10px;
            }
        }
    </style>

    <style>
        /* Chrome, Edge, Safari */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Firefox */
        html {
            scrollbar-width: none;
        }

        /* Internet Explorer / old Edge */
        html {
            -ms-overflow-style: none;
        }
    </style>

</head>

<body>
    <canvas id="bg-canvas"></canvas>
    <!-- Splash Screen -->
    <div class="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">
                <i class="fas fa-hands-helping"></i>
                <span>MMMS</span>
            </div>
            <div class="splash-title">Mentor Mentee Management System</div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <div class="logo">MMMS</div>
            <h1>Mentor Mentee Management System</h1>
            <p>A comprehensive platform for facilitating mentorship relationships, tracking progress, and enhancing
                academic development</p>
        </div>

        <div class="login-as">
            <h2>Select Your Role</h2>
            <div class="user-types">
                <div class="user-type active" data-role="mentee">
                    <i class="fas fa-user-graduate"></i>
                    <span>Mentee</span>
                </div>
                <div class="user-type" data-role="mentor">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>Mentor</span>
                </div>
                <div class="user-type" data-role="head">
                    <i class="fas fa-user-tie"></i>
                    <span>Head of Mentor Mentee</span>
                </div>
            </div>
        </div>

        <div class="login-form">
            <form method="POST" id="loginForm">
                {% csrf_token %}

                <!-- Django Messages Display -->
                {% if messages %}
                <div id="django-messages" style="display: none;">
                    {% for message in messages %}
                    <div class="message" data-tags="{{ message.tags }}" data-content="{{ message }}"></div>
                    {% endfor %}
                </div>
                {% endif %}

                <div class="form-group">
                    <label for="username">User ID</label>
                    <input type="text" id="username" name="username" placeholder="Enter your institutional ID" required
                        value="{{ request.POST.username }}">
                    <i class="fas fa-id-card"></i>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter your secure password"
                        required>
                    <i class="fas fa-lock"></i>
                </div>

                <button type="submit" class="login-btn" id="loginButton">
                    Login
                </button>

                <div class="signup-link">
                    New to the system? <a href="{% url 'signup' %}">Sign Up</a>
                </div>

                <div class="forgot-password">
                    <a href="{% url 'password_reset' %}">Forgot your password?</a>
                </div>
            </form>

            <div class="system-features">
                <div class="feature">
                    <i class="fas fa-chart-line"></i>
                    <div>Progress Tracking</div>
                </div>
                <div class="feature">
                    <i class="fas fa-calendar-check"></i>
                    <div>Session Scheduling</div>
                </div>
                <div class="feature">
                    <i class="fas fa-file-alt"></i>
                    <div>Reporting Tools</div>
                </div>
                <div class="feature">
                    <i class="fas fa-comments"></i>
                    <div>Communication Portal</div>
                </div>
            </div>
        </div>

        <div class="footer">
            &copy; 2025 Mentor Mentee Management System
        </div>
    </div>

    <!-- Login Status Popup Container -->
    <div class="login-popup-container" id="loginPopupContainer"></div>

    <script>
        // Add interactivity to user type selection
        document.querySelectorAll('.user-type').forEach(type => {
            type.addEventListener('click', function () {
                document.querySelectorAll('.user-type').forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                // Update form labels based on selected user type
                const userType = this.getAttribute('data-role');
                updateFormLabels(userType);
            });
        });

        // Function to update form labels based on user type
        function updateFormLabels(userType) {
            const usernameLabel = document.querySelector('label[for="username"]');
            const usernameInput = document.getElementById('username');

            if (userType === 'head') {
                usernameLabel.textContent = 'Administrator ID';
                usernameInput.placeholder = 'Enter your administrator ID';
            } else if (userType === 'mentor') {
                usernameLabel.textContent = 'Staff ID';
                usernameInput.placeholder = 'Enter your staff ID';
            } else {
                usernameLabel.textContent = 'Student ID';
                usernameInput.placeholder = 'Enter your student ID';
            }
        }

        // Add focus effects to form inputs
        const inputs = document.querySelectorAll('input');
        inputs.forEach(input => {
            input.addEventListener('focus', function () {
                this.parentElement.classList.add('focused');
            });

            input.addEventListener('blur', function () {
                if (this.value === '') {
                    this.parentElement.classList.remove('focused');
                }
            });
        });

        // Function to show login status popup
        function showLoginPopup(title, message, type = 'success', duration = 5000) {
            const container = document.getElementById('loginPopupContainer');

            // Create popup element
            const popup = document.createElement('div');
            popup.className = `login-popup ${type}`;

            // Map message types to icons
            const icons = {
                'success': 'fas fa-check',
                'error': 'fas fa-exclamation-circle',
                'warning': 'fas fa-exclamation-triangle',
                'info': 'fas fa-info-circle'
            };

            popup.innerHTML = `
                <div class="login-popup-icon">
                    <i class="${icons[type] || icons.success}"></i>
                </div>
                <div class="login-popup-content">
                    <div class="login-popup-title">${title}</div>
                    <div class="login-popup-message">${message}</div>
                </div>
                <button class="login-popup-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
                <div class="login-popup-progress">
                    <div class="login-popup-progress-bar"></div>
                </div>
            `;

            container.appendChild(popup);

            // Animate in
            setTimeout(() => {
                popup.classList.add('show');
            }, 100);

            // Auto remove after duration
            if (duration > 0) {
                setTimeout(() => {
                    popup.classList.add('hide');
                    setTimeout(() => {
                        if (popup.parentElement) {
                            popup.remove();
                        }
                    }, 400);
                }, duration);
            }
        }

        // Process Django messages on page load
        document.addEventListener('DOMContentLoaded', function () {
            const djangoMessages = document.getElementById('django-messages');
            if (djangoMessages) {
                const messages = djangoMessages.querySelectorAll('.message');
                messages.forEach(message => {
                    const tags = message.getAttribute('data-tags');
                    const content = message.getAttribute('data-content');

                    let type = 'info';
                    if (tags.includes('error')) type = 'error';
                    if (tags.includes('success')) type = 'success';
                    if (tags.includes('warning')) type = 'warning';

                    showLoginPopup(
                        type === 'error' ? 'Login Failed' : 'Login Status',
                        content,
                        type,
                        5000
                    );
                });
            }
        });

        // Form submission handling
        document.getElementById('loginForm').addEventListener('submit', function (e) {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const loginButton = document.getElementById('loginButton');

            // Basic client-side validation
            if (!username || !password) {
                e.preventDefault();
                showLoginPopup('Missing Information', 'Please enter both User ID and password.', 'error', 4000);
                return;
            }

            // Show loading state
            loginButton.classList.add('loading');
            loginButton.disabled = true;

            // Let the form submit to Django - your backend will handle authentication
            // The form will submit normally to your Django view
        });

        // Initialize form labels
        updateFormLabels('mentee');

        // Optional: Function to manually show popups (for other actions)
        function showLoginSuccess(message, title = 'Success') {
            showLoginPopup(title, message, 'success');
        }

        function showLoginError(message, title = 'Error') {
            showLoginPopup(title, message, 'error');
        }

        // Interactive AI SaaS Particle Background
        (function () {
            const canvas = document.getElementById('bg-canvas');
            const ctx = canvas.getContext('2d');

            let width, height;
            let particles = [];

            // Configuration

            const particleCount = 450; // Dense field
            const connectionDistance = 0; // No lines, just dots
            const baseSpeed = 0.2;
            const parallaxStrength = 20; // How much mouse moves them

            // Neural Colors: Cyan, Blue, Purple, White(dim)
            const colorPalette = [
                { r: 100, g: 149, b: 237 }, // Cornflower Blue
                { r: 79, g: 209, b: 197 },  // Teal/Cyan
                { r: 167, g: 139, b: 250 }, // Soft Purple
                { r: 147, g: 197, b: 253 }  // Light Blue
            ];

            // Mouse state
            const mouse = { x: 0, y: 0 };
            const targetMouse = { x: 0, y: 0 };

            // Resize handling
            function resize() {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resize);
            resize();

            // Track mouse for parallax
            window.addEventListener('mousemove', (e) => {
                // Normalize mouse position -0.5 to 0.5
                targetMouse.x = (e.clientX / width) - 0.5;
                targetMouse.y = (e.clientY / height) - 0.5;
            });

            class Particle {
                constructor() {
                    this.init();
                }

                init() {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                    this.z = Math.random() * 2 + 0.5; // Depth factor (0.5 to 2.5)
                    this.size = Math.random() * 1.5 + 0.5; // Size variation

                    // Velocity (continuous float)
                    this.vx = (Math.random() - 0.5) * baseSpeed * this.z;
                    this.vy = (Math.random() - 0.5) * baseSpeed * this.z;

                    // Appearance
                    this.rgb = colorPalette[Math.floor(Math.random() * colorPalette.length)];
                    this.alpha = Math.random() * 0.5 + 0.1;
                    this.targetAlpha = this.alpha;
                }

                update() {
                    // Constant drift
                    this.x += this.vx;
                    this.y += this.vy;

                    // Soft parallax easing
                    // We move the particle position based on mouse * depth
                    // But we don't want to permanently change x/y, just the render position? 
                    // No, usually parallax shifts the viewport.
                    // Let's create an offset based on mouse.

                    // Wrap around screen
                    if (this.x < -50) this.x = width + 50;
                    if (this.x > width + 50) this.x = -50;
                    if (this.y < -50) this.y = height + 50;
                    if (this.y > height + 50) this.y = -50;

                    // Twinkle
                    if (Math.random() < 0.01) {
                        this.targetAlpha = Math.random() * 0.6 + 0.1;
                    }
                    this.alpha += (this.targetAlpha - this.alpha) * 0.05;
                }

                draw(mouseX, mouseY) {
                    // Parallax offset
                    // Closer particles (higher z) move MORE opposite to mouse (or with mouse depending on effect)
                    // Standard parallax: layers move at different speeds.
                    const offX = mouseX * parallaxStrength * this.z;
                    const offY = mouseY * parallaxStrength * this.z;

                    ctx.beginPath();
                    ctx.fillStyle = `rgba(${this.rgb.r}, ${this.rgb.g}, ${this.rgb.b}, ${this.alpha})`;
                    ctx.arc(this.x + offX, this.y + offY, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            // Create particles
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }

            function animate() {
                // Clear with trail effect? No, clean wipe for crisp dots
                ctx.clearRect(0, 0, width, height);

                // Smooth mouse interpolation
                mouse.x += (targetMouse.x - mouse.x) * 0.05;
                mouse.y += (targetMouse.y - mouse.y) * 0.05;

                particles.forEach(p => {
                    p.update();
                    p.draw(-mouse.x, -mouse.y); // Invert for depth feel
                });

                requestAnimationFrame(animate);
            }

            animate();

        })();
    </script>
</body>

</html>